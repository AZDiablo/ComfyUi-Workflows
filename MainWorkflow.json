{"id":"3f642721-047c-4b61-82ca-74e2f719d7ce","revision":0,"last_node_id":71,"last_link_id":128,"nodes":[{"id":5,"type":"EmptyLatentImage","pos":[515.7235844470163,910.171163484854],"size":[225,41.59375],"flags":{"collapsed":true},"order":0,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[15]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1]},{"id":36,"type":"PreviewImage","pos":[2745.6360112048287,713.2282975409453],"size":[541,637],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":60}],"outputs":[],"title":"reference model","properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":9,"type":"SaveImage","pos":[1514.2009025622508,662.1154306815092],"size":[1215.625,1345.625],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":128},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":11,"type":"KSamplerAdvanced","pos":[794.069853062739,704.0660315344755],"size":[428.9375,464.0625],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":109},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":98},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":99},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":15},{"localized_name":"add_noise","name":"add_noise","type":"COMBO","widget":{"name":"add_noise"},"link":null},{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"start_at_step","name":"start_at_step","type":"INT","widget":{"name":"start_at_step"},"link":null},{"localized_name":"end_at_step","name":"end_at_step","type":"INT","widget":{"name":"end_at_step"},"link":null},{"localized_name":"return_with_leftover_noise","name":"return_with_leftover_noise","type":"COMBO","widget":{"name":"return_with_leftover_noise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[16]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1119332643597882,"increment",40,7,"dpmpp_3m_sde","karras",0,10000,"enable"]},{"id":4,"type":"CheckpointLoaderSimple","pos":[318.93503799926236,719.8870201704924],"size":[428,182.1875],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[109]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[3,5]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[8]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["pony\\cyberrealisticPony_v140.safetensors"]},{"id":68,"type":"ReActorOptions","pos":[1962.475179906001,281.8777957175199],"size":[428,315.59375],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"input_faces_order","name":"input_faces_order","type":"COMBO","widget":{"name":"input_faces_order"},"link":null},{"localized_name":"input_faces_index","name":"input_faces_index","type":"STRING","widget":{"name":"input_faces_index"},"link":null},{"localized_name":"detect_gender_input","name":"detect_gender_input","type":"COMBO","widget":{"name":"detect_gender_input"},"link":null},{"localized_name":"source_faces_order","name":"source_faces_order","type":"COMBO","widget":{"name":"source_faces_order"},"link":null},{"localized_name":"source_faces_index","name":"source_faces_index","type":"STRING","widget":{"name":"source_faces_index"},"link":null},{"localized_name":"detect_gender_source","name":"detect_gender_source","type":"COMBO","widget":{"name":"detect_gender_source"},"link":null},{"localized_name":"console_log_level","name":"console_log_level","type":"COMBO","widget":{"name":"console_log_level"},"link":null}],"outputs":[{"localized_name":"OPTIONS","name":"OPTIONS","type":"OPTIONS","links":[125]}],"properties":{"cnr_id":"comfyui-reactor-node","ver":"0576662becbadcfdf6ce6517d1d46529cc0573a7","Node name for S&R":"ReActorOptions","aux_id":"Gourieff/ComfyUI-ReActor"},"widgets_values":["left-right","0","no","left-right","0","no",1],"color":"#232","bgcolor":"#353"},{"id":70,"type":"LoadImage","pos":[1521.3213212634228,24.593828127187862],"size":[428,581.96875],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[123]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.29","Node name for S&R":"LoadImage"},"widgets_values":["Marcie.png","image"],"color":"#232","bgcolor":"#353"},{"id":69,"type":"ReActorLoadFaceModel","pos":[1516.5116746569774,-161.63613158960902],"size":[428,154.1875],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"face_model","name":"face_model","type":"COMBO","widget":{"name":"face_model"},"link":null}],"outputs":[{"localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","slot_index":0,"links":[124]},{"name":"FACE_MODEL_NAME","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-reactor-node","ver":"0576662becbadcfdf6ce6517d1d46529cc0573a7","Node name for S&R":"ReActorLoadFaceModel","aux_id":"Gourieff/ComfyUI-ReActor"},"widgets_values":["facemodel.safetensors"],"color":"#232","bgcolor":"#353"},{"id":8,"type":"VAEDecode","pos":[1252.3503001452586,707.3454996893828],"size":[225,108.1875],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":16},{"localized_name":"vae","name":"vae","type":"VAE","link":8}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[60,127]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":71,"type":"ReActorFaceSwapOpt","pos":[1974.1974980212353,-168.8511553933199],"size":[428,428.1875],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"input_image","name":"input_image","type":"IMAGE","link":127},{"localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":123},{"localized_name":"face_model","name":"face_model","shape":7,"type":"FACE_MODEL","link":124},{"localized_name":"options","name":"options","shape":7,"type":"OPTIONS","link":125},{"localized_name":"face_boost","name":"face_boost","shape":7,"type":"FACE_BOOST","link":null},{"localized_name":"enabled","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"swap_model","name":"swap_model","type":"COMBO","widget":{"name":"swap_model"},"link":null},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"face_restore_model","name":"face_restore_model","type":"COMBO","widget":{"name":"face_restore_model"},"link":null},{"localized_name":"face_restore_visibility","name":"face_restore_visibility","type":"FLOAT","widget":{"name":"face_restore_visibility"},"link":null},{"localized_name":"codeformer_weight","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[128]},{"localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","slot_index":1,"links":null},{"name":"ORIGINAL_IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-reactor-node","ver":"0576662becbadcfdf6ce6517d1d46529cc0573a7","Node name for S&R":"ReActorFaceSwapOpt","aux_id":"Gourieff/ComfyUI-ReActor"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GFPGANv1.4.pth",1,0.5],"color":"#232","bgcolor":"#353"},{"id":7,"type":"CLIPTextEncode","pos":[330.75415833007287,963.1920245383208],"size":[371.875,241.9375],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":5},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[99]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"CLIPTextEncode"},"widgets_values":["score_1,score_2,score_3,score_4,score_5,score_6,score_7, (tan lines)(tattoo:1.1), (3d render, CGI, cartoon, Photoshop:1.4), (worst quality, low quality:1.4), deformed, bad skin, hands, eyes, long body, blurry, duplicated, disfigured, extra/fused/twisted fingers, distorted/mutated hands, conjoined, bad face/anatomy/proportions, logo, watermark, text, lowres, gross, ugly, surrealistic, unusual, warped limbs."]},{"id":6,"type":"CLIPTextEncode","pos":[477.25890190612273,1240.3688381979887],"size":[1008.5625,185.75],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":3},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[98]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"CLIPTextEncode"},"widgets_values":["score_9,score_8_up, very aesthetic, medium body shot, smile, looking at viewer, solo, ({front|side|rear} view), (long brunette hair), (large breasts), ({Red|Purple|Pink|Black|Gold|Silver} nude {zipper|keyhole|halter top|cropped top|bikini top|bow|dress shirt|corset} sheer and {panties|shorts|short skirt|pants}), ({standing|relaxing|bending over|leaning on wall|sitting|kneeling|laying down|Arching the back|hands on hips} in snowy {Urban rooftop| forest trail| sandy beach| modern city plaza| botanical garden| industrial warehouse| open desert plain| lakeside dock| mountain overlook| colorful mural alley}), direct sunlight, dramatic shadows, ambient occlusion, raytracing, 8k, UHD, masterpiece, vibrant hues, natural illumination, depth of field, selective focus, (detailed face:1.2), (pores:1.4), RAW photo, (realistic), realistic skin, direct lighting, dslr photo, shot with Canon EOS R5, f/2.8, ISO 100, 35mm lens, "]}],"links":[[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[8,4,2,8,1,"VAE"],[15,5,0,11,3,"LATENT"],[16,11,0,8,0,"LATENT"],[60,8,0,36,0,"IMAGE"],[98,6,0,11,1,"CONDITIONING"],[99,7,0,11,2,"CONDITIONING"],[109,4,0,11,0,"MODEL"],[123,70,0,71,1,"IMAGE"],[124,69,0,71,2,"FACE_MODEL"],[125,68,0,71,3,"OPTIONS"],[127,8,0,71,0,"IMAGE"],[128,71,0,9,0,"IMAGE"]],"groups":[{"id":1,"title":"Main","bounding":[308.9349640266441,630.465939414762,1185.908439449281,778.8755080762558],"color":"#8AA","font_size":24,"flags":{}},{"id":2,"title":"FaceReplace","bounding":[1504.5751825319087,-242.45121689500849,907.6216034584261,859.0294947947453],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6830134553650705,"offset":[-316.3486791103339,-606.1568889080552]},"frontendVersion":"1.32.10","ue_links":[],"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"workflowRendererVersion":"Vue"},"version":0.4}